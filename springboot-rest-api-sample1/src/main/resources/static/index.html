<!DOCTYPE html>
<html>
<head>
<title>Spring Boot REST API</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>

<form action="" id="formCadastrarUsuario" >

<div class="mb-3">
  <label for="id" class="form-label">ID</label>
  <input type="text" readonly="readonly" class="form-control" id="id" >
</div>
<div class="mb-3">
  <label for="nome" class="form-label">Nome</label>
  <input type="text" required="required" class="form-control" id="nome" placeholder="Seu nome">
</div>
<div class="mb-3">
  <label for="idade" class="form-label">Idade</label>
  <input type="number" class="form-control" id="idade" >
</div>
</form>

 <div class="col-auto">
    <button type="submit" class="btn btn-primary mb-3" onclick="salvarUsuario()">Confirm identity</button>
  </div>
<div class="col-auto">
    <button type="submit" class="btn btn-primary mb-3" onclick="document.getElementById('formCadastrarUsuario').reset()">Novo</button>
</div>
  

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<script type="text/javascript">

	function salvarUsuario(){
		let id = $("#id").val();
		let nome = $("#nome").val();
		let idade = $("#idade").val();
		
		$.ajax({
			method:"POST",
			url : "api/users",
			data : JSON.stringify({id:id,nome:nome,idade:idade}),
			contentType: "application/json;charset-utf-8",
			success: function(response){
				$("#id").val(response.id);
				alert("salvo com sucess");
			}
		}).fail(function(xhr,status,errorThrown){
			alert("erro ao salvar "+xhr.responseText);
		});
		
		
	}
	


</script>

</body>

</html>